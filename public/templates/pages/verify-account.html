<div class="row">
  <div class="col-md-24" ng-controller="DashboardVerifyController"
    ng-init="init()">
    <h1 translate="content.verifyusers.header"></h1>

    <form class="filter-form">
      <h4 translate="form.verify.filter"></h4>
      <fieldset class="btn-group user-status">
        <button type="button" class="btn btn-success"
          ng-class="{active: formdata.status == 'verified'}"
          ng-click="formdata.status = 'verified'; getRequests()"
          translate="form.verify.verified"></button>
        <button type="button" class="btn btn-warning"
          ng-class="{active: formdata.status == 'pending'}"
          ng-click="formdata.status = 'pending'; getRequests()"
          translate="form.verify.pending"></button>
        <button type="button" class="btn btn-danger"
          ng-class="{active: formdata.status == 'denied'}"
          ng-click="formdata.status = 'denied'; getRequests()"
          translate="form.verify.denied"></button>
      </fieldset>
    </form>

    <table class="table table-striped verify-list" ng-show="requests.length">
      <thead>
        <th translate="form.verify.id"></th>
        <th translate="form.verify.firstname"></th>
        <th translate="form.verify.lastname"></th>
        <th translate="form.verify.email"></th>
        <th translate="form.verify.phone"></th>
        <th translate="form.verify.status"></th>
      </thead>
      <tbody>
        <tr ng-repeat="request in requests" id="request-{{ request.id }}">
          <td>{{ request.id }}</td>
          <td>{{ request.user.fname}}</td>
          <td>{{ request.user.lname }}</td>
          <td>{{ request.user.email }}</td>
          <td>{{ request.user.phone }}</td>
          <td>
            <div class="btn-group user-status">
              <button type="button" class="btn btn-success"
                ng-class="{active: request.meta_value == 'verified'}"
                ng-click="update(request, 'verified')"
                translate="form.verify.verified"></button>
              <button type="button" class="btn btn-warning"
                ng-class="{active: request.meta_value == 'pending'}"
                ng-click="update(request, 'pending')"
                translate="form.verify.pending"></button>
              <button type="button" class="btn btn-danger"
                ng-class="{active: request.meta_value == 'denied'}"
                ng-click="update(request, 'denied')"
                translate="form.verify.denied"></button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div ng-hide="requests.length">
      <span ng-if="formdata.status == 'verified'"
        translate="form.verify.users.none.verified"></span>
      <span ng-if="formdata.status == 'pending'"
        translate="form.verify.users.none.pending"></span>
      <span ng-if="formdata.status == 'denied'"
        translate="form.verify.users.none.denied"></span>
    </div>
  </div>
</div>
